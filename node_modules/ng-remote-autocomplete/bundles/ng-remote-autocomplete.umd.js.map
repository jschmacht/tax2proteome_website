{"version":3,"file":"ng-remote-autocomplete.umd.js.map","sources":["ng://ng-remote-autocomplete/app/constants/autocomplete.constants.ts","ng://ng-remote-autocomplete/app/enums/search-state.type.ts","ng://ng-remote-autocomplete/app/directives/option-template.directive.ts","ng://ng-remote-autocomplete/app/services/autocomplete.service.ts","ng://ng-remote-autocomplete/app/services/item-list.service.ts","ng://ng-remote-autocomplete/app/components/autocomplete.component.ts","ng://ng-remote-autocomplete/app/directives/option-directive.ts","ng://ng-remote-autocomplete/app/enums/key-kode.ts","ng://ng-remote-autocomplete/app/services/scroll-service.ts","ng://ng-remote-autocomplete/app/directives/keyboard-navigation.directive.ts","ng://ng-remote-autocomplete/app/autocomplete.module.ts"],"sourcesContent":["export const DEFAULT_ACTIVE_INDEX: number = -1;\r\nexport const DEFAULT_MIN_SEARCH_LENGTH: number = 1;\r\nexport const DEFAULT_MAX_CHARS: number = 2147483647;\r\nexport const DEFAULT_PAUSE: number = 100;\r\n\r\nexport const NOT_FOUND_TEXT: string = \"No results found\";\r\nexport const SEARCHING_TEXT: string = \"Searching...\";\r\n\r\nexport const SEARCH_WRAPPER_CLASS: string = \"autocomplete-search-wrapper\";\r\nexport const OPTION_VALUE_CLASS: string = \"autocomplete-option-value\";\r\nexport const OPTION_DESCRIPTION_CLASS: string = \"autocomplete-option-description\";\r\nexport const OPTION_CLASS: string = \"autocomplete-option\";\r\nexport const OPTION_LIST_WRAPPER_CLASS: string = \"option-list-wrapper\";\r\nexport const LOADING_CLASS: string = \"autocomplete-loading\";\r\nexport const RESULTS_NOT_FOUND_CLASS: string = \"autocomplete-not-found\";","export enum SearchStateType {\r\n    Untracked,\r\n    Loading,\r\n    Finished\r\n}","import { Directive, TemplateRef } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: '[remote-autocomplete-option-tmpl]'\r\n})\r\nexport class OptionTemplateDirective {\r\n    constructor(public template: TemplateRef<any>) {\r\n    }\r\n}","import { Injectable } from \"@angular/core\";\r\nimport { Subject } from \"rxjs/Subject\";\r\n\r\n@Injectable()\r\nexport class AutocompleteService {\r\n    public changedHighlightItemSubject: Subject<number> = new Subject<number>();\r\n    public selectItemSubject: Subject<number> = new Subject<number>();\r\n\r\n    private _isOpen: boolean = false;\r\n\r\n    set isOpen(value: boolean) {\r\n        this._isOpen = value;\r\n    }\r\n\r\n    get isOpen(): boolean {\r\n        return this._isOpen;\r\n    }\r\n}","import { Injectable } from \"@angular/core\";\r\n\r\nimport { AutocompleteService } from \"./autocomplete.service\";\r\nimport { DEFAULT_ACTIVE_INDEX } from \"../constants/autocomplete.constants\";\r\nimport { AutocompleteItem } from \"../interfaces/autocomplete.item\";\r\n\r\n@Injectable()\r\nexport class ItemListService {\r\n    constructor(private autocompleteService: AutocompleteService) {\r\n    }\r\n\r\n    private _activeIndex: number = DEFAULT_ACTIVE_INDEX;\r\n\r\n    public items: AutocompleteItem[] = [];\r\n\r\n    set activeIndex(index: number) {\r\n        if (this.autocompleteService.isOpen) {\r\n            if (index >= this.items.length) {\r\n                this.restoreIntialActiveIndex();\r\n                return;\r\n            }\r\n\r\n\r\n            if (index < DEFAULT_ACTIVE_INDEX) {\r\n                this._activeIndex = this.items.length - 1;\r\n                this.autocompleteService.changedHighlightItemSubject.next(this._activeIndex);\r\n                return;\r\n            }\r\n\r\n            this._activeIndex = index;\r\n            this.autocompleteService.changedHighlightItemSubject.next(this._activeIndex);\r\n        }\r\n    }\r\n\r\n    get activeIndex(): number {\r\n        return this._activeIndex;\r\n    }\r\n\r\n    restoreIntialActiveIndex(): void {\r\n        this._activeIndex = DEFAULT_ACTIVE_INDEX;\r\n        this.autocompleteService.changedHighlightItemSubject.next(this._activeIndex);\r\n    }\r\n}","import {\r\n    Component,\r\n    OnInit,\r\n    Input,\r\n    Output,\r\n    EventEmitter,\r\n    ContentChild,\r\n    TemplateRef,\r\n    OnDestroy,\r\n    forwardRef,\r\n    ViewChild,\r\n    ElementRef\r\n} from \"@angular/core\";\r\n\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from \"@angular/forms\";\r\n\r\nimport { Subscription } from 'rxjs/Rx';\r\nimport { Observable } from \"rxjs/Observable\";\r\n\r\nimport { AutocompleteItem } from \"../interfaces/autocomplete.item\";\r\n\r\nimport {\r\n    DEFAULT_MAX_CHARS,\r\n    DEFAULT_MIN_SEARCH_LENGTH,\r\n    DEFAULT_PAUSE,\r\n    NOT_FOUND_TEXT,\r\n    SEARCHING_TEXT,\r\n    DEFAULT_ACTIVE_INDEX,\r\n    SEARCH_WRAPPER_CLASS,\r\n    OPTION_LIST_WRAPPER_CLASS,\r\n    OPTION_CLASS,\r\n    OPTION_VALUE_CLASS,\r\n    OPTION_DESCRIPTION_CLASS,\r\n    LOADING_CLASS,\r\n    RESULTS_NOT_FOUND_CLASS\r\n} from \"../constants/autocomplete.constants\";\r\n\r\nimport { SearchStateType } from \"../enums/search-state.type\";\r\nimport { OptionTemplateDirective } from \"../directives/option-template.directive\";\r\nimport { ItemListService } from \"../services/item-list.service\";\r\nimport { AutocompleteSourceService } from \"../interfaces/autocomplete-source.service\";\r\nimport { AutocompleteService } from \"../services/autocomplete.service\";\r\nimport { ParameterizedAutocompleteSourceService } from \"../interfaces/parameterized-autocomplete-sourse.servise\";\r\nimport { Autocomplete } from \"../interfaces/autocomplete\";\r\n\r\n@Component({\r\n    selector: 'remote-autocomplete',\r\n    template: `<div keyboard-navigation [stopEnterPropagation]=\"stopEnterPropagationOnSelect\" class=\"remote-autocomplete\">\r\n    <input [(ngModel)]=\"searchValue\"\r\n           [attr.id]=\"inputId\"\r\n           [attr.name]=\"inputName\"\r\n           [attr.class]=\"inputClass\"\r\n           [disabled]=\"disabled\"\r\n           [attr.placeholder]=\"placeholder\"\r\n           [attr.autocomplete]=\"autocompleteAttr\"\r\n           [attr.tabindex]=\"tabindex\"\r\n           maxlength=\"{{maxChars}}\"\r\n           (input)=\"onType()\"\r\n           (blur)=\"onInputBlur($event)\"\r\n           (focus)=\"onInputFocus($event)\"\r\n           #input />\r\n    <div *ngIf=\"searchState === searchStates.Loading && needToShowSearchingText || \r\n                searchState === searchStates.Finished && (searchResult?.length > 0 || needToShowNotFoundText)\" [class]=\"SEARCH_WRAPPER_CLASS\">\r\n        <div *ngIf=\"searchState === searchStates.Loading\">\r\n            <span [class]=\"LOADING_CLASS\">{{searchingText}}</span>\r\n        </div>\r\n\r\n        <div *ngIf=\"searchState === searchStates.Finished && searchResult.length === 0\">\r\n            <span [class]=\"RESULTS_NOT_FOUND_CLASS\">{{notFoundText}}</span>\r\n        </div>\r\n\r\n        <div *ngIf=\"searchState === searchStates.Finished && searchResult?.length > 0\" [class]=\"OPTION_LIST_WRAPPER_CLASS\">\r\n            <div *ngFor=\"let item of searchResult; index as i\"\r\n                 remote-autocomplete-option\r\n                 [itemIndex]=\"i\"\r\n                 [class]=\"OPTION_CLASS\"\r\n                 [ngClass]=\"{'autocomplete-option-active': i === itemListService.activeIndex}\"\r\n                 tabindex=\"-1\">\r\n                <ng-template #defaultOptionTemplate>\r\n                    <span [class]=\"OPTION_VALUE_CLASS\">{{item.value}}</span>\r\n                    <span *ngIf=\"item.description\" [class]=\"OPTION_DESCRIPTION_CLASS\">{{item.description}}</span>\r\n                </ng-template>\r\n\r\n                <ng-template [ngTemplateOutlet]=\"optionTemplate || defaultOptionTemplate\" [ngTemplateOutletContext]=\"{ $implicit: item }\">\r\n                </ng-template>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>`,\r\n    styles: [`.autocomplete-search-wrapper{border:1px solid #ccc;max-height:200px;overflow:auto;max-width:200px}.autocomplete-option-active{background-color:#d3d3d3}`],\r\n    providers: [\r\n        AutocompleteService,\r\n        ItemListService,\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            useExisting: forwardRef(() => RemoteAutocompleteComponent),\r\n            multi: true\r\n        }\r\n    ]\r\n})\r\n\r\nexport class RemoteAutocompleteComponent implements OnInit, OnDestroy, ControlValueAccessor, Autocomplete {\r\n    @Input('service') service: AutocompleteSourceService | ParameterizedAutocompleteSourceService;\r\n    @Input('minSearchLength') minChars: number;\r\n    @Input('maxChars') maxChars: number;\r\n    @Input('pause') pause: number;\r\n    @Input('inputId') inputId: string;\r\n    @Input('inputName') inputName: string;\r\n    @Input('inputClass') inputClasses: string[];\r\n    @Input('disabled') disabled: boolean;\r\n    @Input('notFoundText') notFoundText: string;\r\n    @Input('searchingText') searchingText: string;\r\n    @Input('placeholder') placeholder: string;\r\n    @Input('searchParameters') searchParameters: any;\r\n    @Input('autocompleteAttr') autocompleteAttr: string;\r\n    @Input('tabindex') tabindex: number;\r\n    @Input('stopEnterPropagationOnSelect') stopEnterPropagationOnSelect: boolean = false;\r\n\t@Input('needToShowNotFoundText') needToShowNotFoundText: boolean = true;\r\n\t@Input('needToShowSearchingText') needToShowSearchingText: boolean = true;\r\n\r\n    @Output('type') type: EventEmitter<void> = new EventEmitter<void>();\r\n    @Output('highlighted') highlighted: EventEmitter<AutocompleteItem> = new EventEmitter<AutocompleteItem>();\r\n    @Output('selected') selected: EventEmitter<AutocompleteItem> = new EventEmitter<AutocompleteItem>();\r\n    @Output('blur') blur: EventEmitter<Event> = new EventEmitter<Event>();\r\n    @Output('focus') focusEvent: EventEmitter<Event> = new EventEmitter<Event>();\r\n\r\n    //custom template\r\n    @ContentChild(OptionTemplateDirective, { read: TemplateRef }) optionTemplate: TemplateRef<any>;\r\n\r\n    @ViewChild('input') inputField: ElementRef;\r\n\r\n    public searchStates = SearchStateType;\r\n    public searchState = SearchStateType.Untracked;\r\n    public searchValue: string;\r\n    public searchResult: AutocompleteItem[];\r\n    public SEARCH_WRAPPER_CLASS: string = SEARCH_WRAPPER_CLASS;\r\n    public OPTION_LIST_WRAPPER_CLASS: string = OPTION_LIST_WRAPPER_CLASS;\r\n    public OPTION_CLASS: string = OPTION_CLASS;\r\n    public OPTION_VALUE_CLASS: string = OPTION_VALUE_CLASS;\r\n    public OPTION_DESCRIPTION_CLASS: string = OPTION_DESCRIPTION_CLASS;\r\n    public LOADING_CLASS: string = LOADING_CLASS;\r\n    public RESULTS_NOT_FOUND_CLASS: string = RESULTS_NOT_FOUND_CLASS;\r\n\r\n    private typingTimeout: number;\r\n    private originalSearchValue: string;\r\n    private changedHighlightSubscription: Subscription;\r\n    private selectSubscription: Subscription;\r\n    private propagateChange = (_: any) => { };\r\n    private propagateTouched = (_: any) => { };\r\n\r\n    constructor(public itemListService: ItemListService,\r\n        public autocompleteService: AutocompleteService) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.validateService();\r\n\r\n        this.disabled = this.getDefaultIfNullOrUndefined(this.disabled, false);\r\n        this.minChars = this.getDefaultIfNullOrUndefined(this.minChars, DEFAULT_MIN_SEARCH_LENGTH);\r\n        this.maxChars = this.maxChars || DEFAULT_MAX_CHARS;\r\n        this.pause = this.pause || DEFAULT_PAUSE;\r\n        this.notFoundText = this.notFoundText || NOT_FOUND_TEXT;\r\n        this.searchingText = this.searchingText || SEARCHING_TEXT;\r\n\r\n        this.changedHighlightSubscription = this.autocompleteService.changedHighlightItemSubject.subscribe((index: number) => {\r\n            this.onActiveIndexChanged(index);\r\n        });\r\n\r\n        this.selectSubscription = this.autocompleteService.selectItemSubject.subscribe((index: number) => {\r\n            const result = this.searchResult[index];\r\n            this.propagateChange(result.value);\r\n            this.selected.emit(result);\r\n            this.close();\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.changedHighlightSubscription.unsubscribe();\r\n        this.selectSubscription.unsubscribe();\r\n    }\r\n\r\n    writeValue(value: any) {\r\n        if (value !== undefined) {\r\n            this.searchValue = value;\r\n        }\r\n    }\r\n\r\n    registerOnChange(fn: any) {\r\n        this.propagateChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: any) {\r\n        this.propagateTouched = fn;\r\n    }\r\n\r\n    setDisabledState(isDisabled: boolean): void {\r\n        this.disabled = isDisabled;\r\n    }\r\n\r\n    onType(): void {\r\n        this.propagateChange(this.searchValue);\r\n        this.originalSearchValue = this.searchValue;\r\n        this.type.emit();\r\n\r\n        if (this.validsearchTerm()) {\r\n            this.searchState = this.searchStates.Loading;\r\n        } else {\r\n            this.close();\r\n        }\r\n\r\n        this.resetSearchTimeout();\r\n    }\r\n\r\n    onInputBlur(event: FocusEvent) {\r\n        if (event.relatedTarget) {\r\n            let related = <HTMLElement>event.relatedTarget;\r\n            if (related.classList.contains(this.OPTION_CLASS)) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.propagateTouched(this.searchValue);\r\n        this.close();\r\n        this.blur.emit(event);\r\n    }\r\n\r\n    onInputFocus(event: Event) {\r\n        this.focusEvent.emit(event);\r\n    }\r\n\r\n    get inputClass(): string {\r\n        let classes: string = '';\r\n\r\n        if (this.inputClasses) {\r\n            classes = this.inputClasses.join(' ');\r\n        }\r\n\r\n        return classes;\r\n    }\r\n\r\n    focus() {\r\n        (<HTMLInputElement>this.inputField.nativeElement).focus();\r\n    }\r\n\r\n    open() {\r\n        this.onType();\r\n    }\r\n\r\n    close() {\r\n        this.autocompleteService.isOpen = false;\r\n        this.searchState = this.searchStates.Untracked;\r\n    }\r\n\r\n    private validateService(): void {\r\n        if (!this.service) {\r\n            throw new Error(\"AutocompleteService must be implemented\");\r\n        }\r\n\r\n        if (this.isParameterizedSearch(this.service) && (this.searchParameters === undefined || this.searchParameters === null)) {\r\n            throw new Error(\"Please provide additionalSearchParams or just provide AutocompleteSourceService instaead of ParameterizedAutocompleteSourceService\");\r\n        }\r\n    }\r\n\r\n    private onActiveIndexChanged(activeIndex: number): void {\r\n        let highlightedItem: AutocompleteItem;\r\n\r\n        if (activeIndex === DEFAULT_ACTIVE_INDEX) {\r\n            highlightedItem = null;\r\n            this.searchValue = this.originalSearchValue;\r\n        } else {\r\n            highlightedItem = this.searchResult[activeIndex];\r\n            this.searchValue = highlightedItem.value;\r\n        }\r\n\r\n        this.propagateChange(this.searchValue);\r\n        this.highlighted.emit(highlightedItem);\r\n    }\r\n\r\n    private resetSearchTimeout() {\r\n        this.clearSearchTimeout();\r\n        this.setSearchTimeout();\r\n    }\r\n\r\n    private setSearchTimeout() {\r\n        this.typingTimeout = setTimeout(this.search.bind(this), this.pause);\r\n    }\r\n\r\n    private clearSearchTimeout() {\r\n        clearTimeout(this.typingTimeout);\r\n    }\r\n\r\n    private search() {\r\n        this.itemListService.restoreIntialActiveIndex();\r\n\r\n        if (this.validsearchTerm()) {\r\n            this.performSearch().first().subscribe(\r\n                (results: AutocompleteItem[]) => {\r\n                    if (this.searchState !== this.searchStates.Untracked) {\r\n                        this.autocompleteService.isOpen = results.length > 0;\r\n                        this.itemListService.items = results;\r\n                        this.searchResult = results;\r\n                        this.searchState = this.searchStates.Finished;\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    private performSearch(): Observable<AutocompleteItem[]> {\r\n        if (this.isParameterizedSearch(this.service)) {\r\n            return (<ParameterizedAutocompleteSourceService>this.service).getWithParams(this.searchValue, this.searchParameters);\r\n        } else {\r\n            return (<AutocompleteSourceService>this.service).get(this.searchValue);\r\n        }\r\n    }\r\n\r\n    private validsearchTerm() {\r\n        return (this.searchValue || '').length >= this.minChars;\r\n    }\r\n\r\n    private isParameterizedSearch(service: AutocompleteSourceService | ParameterizedAutocompleteSourceService): service is ParameterizedAutocompleteSourceService {\r\n        return (<ParameterizedAutocompleteSourceService>service).getWithParams !== undefined;\r\n    }\r\n\r\n    private getDefaultIfNullOrUndefined<T>(value: T, defaultValue: T): T {\r\n        return value === undefined || value === null\r\n            ? defaultValue\r\n            : value;\r\n    }\r\n}","import {\r\n    Input,\r\n    Directive,\r\n    HostListener\r\n} from \"@angular/core\";\r\n\r\nimport { ItemListService } from \"../services/item-list.service\";\r\nimport { AutocompleteService } from \"../services/autocomplete.service\";\r\n\r\n@Directive({\r\n    selector: '[remote-autocomplete-option]',\r\n    host: {\r\n        '(mouseenter)': 'onMouseEnter($event)',\r\n        '(mouseleave)': 'onMouseLeave($event)',\r\n        '(click)': 'onClick($event)'\r\n    }\r\n})\r\nexport class OptionDirective {\r\n    @Input('itemIndex') index;\r\n\r\n    constructor(private autocompleteService: AutocompleteService,\r\n        private itemListService: ItemListService) {\r\n    }\r\n\r\n    onMouseEnter(event: MouseEvent) {\r\n        this.itemListService.activeIndex = this.index;\r\n    }\r\n\r\n    onMouseLeave(event: MouseEvent) {\r\n        this.itemListService.restoreIntialActiveIndex();\r\n    }\r\n\r\n    onClick(event: MouseEvent) {\r\n        this.autocompleteService.selectItemSubject.next(this.index);\r\n    }\r\n}","export enum KeyCode {\r\n    Backspace = 8,\r\n    Tab = 9,\r\n    Enter = 13,\r\n    Shift = 16,\r\n    Ctrl = 17,\r\n    Alt = 18,\r\n    PauseBreak = 19,\r\n    CapsLock = 20,\r\n    Escape = 27,\r\n    Space = 32,\r\n    PageUp = 33,\r\n    PageDown = 34,\r\n    End = 35,\r\n    Home = 36,\r\n    LeftArrow = 37,\r\n    UpArrow = 38,\r\n    RightArrow = 39,\r\n    DownArrow = 40,\r\n    Insert = 45,\r\n    Delete = 46,\r\n    Zero = 48,\r\n    ClosedParen = 48,\r\n    One = 49,\r\n    ExclamationMark = 49,\r\n    Two = 50,\r\n    AtSign = 50,\r\n    Three = 51,\r\n    PoundSign = 51,\r\n    Hash = 51,\r\n    Four = 52,\r\n    DollarSign = 52,\r\n    Five = 53,\r\n    PercentSign = 53,\r\n    Six = 54,\r\n    Caret = 54,\r\n    Hat = 54,\r\n    Seven = 55,\r\n    Ampersand = 55,\r\n    Eight = 56,\r\n    Star = 56,\r\n    Asterik = 56,\r\n    Nine = 57,\r\n    OpenParen = 57,\r\n    A = 65,\r\n    B = 66,\r\n    C = 67,\r\n    D = 68,\r\n    E = 69,\r\n    F = 70,\r\n    G = 71,\r\n    H = 72,\r\n    I = 73,\r\n    J = 74,\r\n    K = 75,\r\n    L = 76,\r\n    M = 77,\r\n    N = 78,\r\n    O = 79,\r\n    P = 80,\r\n    Q = 81,\r\n    R = 82,\r\n    S = 83,\r\n    T = 84,\r\n    U = 85,\r\n    V = 86,\r\n    W = 87,\r\n    X = 88,\r\n    Y = 89,\r\n    Z = 90,\r\n    LeftWindowKey = 91,\r\n    RightWindowKey = 92,\r\n    SelectKey = 93,\r\n    Numpad0 = 96,\r\n    Numpad1 = 97,\r\n    Numpad2 = 98,\r\n    Numpad3 = 99,\r\n    Numpad4 = 100,\r\n    Numpad5 = 101,\r\n    Numpad6 = 102,\r\n    Numpad7 = 103,\r\n    Numpad8 = 104,\r\n    Numpad9 = 105,\r\n    Multiply = 106,\r\n    Add = 107,\r\n    Subtract = 109,\r\n    DecimalPoint = 110,\r\n    Divide = 111,\r\n    F1 = 112,\r\n    F2 = 113,\r\n    F3 = 114,\r\n    F4 = 115,\r\n    F5 = 116,\r\n    F6 = 117,\r\n    F7 = 118,\r\n    F8 = 119,\r\n    F9 = 120,\r\n    F10 = 121,\r\n    F11 = 122,\r\n    F12 = 123,\r\n    NumLock = 144,\r\n    ScrollLock = 145,\r\n    SemiColon = 186,\r\n    Equals = 187,\r\n    Comma = 188,\r\n    Dash = 189,\r\n    Period = 190,\r\n    UnderScore = 189,\r\n    PlusSign = 187,\r\n    ForwardSlash = 191,\r\n    Tilde = 192,\r\n    GraveAccent = 192,\r\n    OpenBracket = 219,\r\n    ClosedBracket = 221,\r\n    Quote = 222,\r\n}","import { ElementRef } from \"@angular/core\";\r\nimport { SEARCH_WRAPPER_CLASS, OPTION_CLASS, DEFAULT_ACTIVE_INDEX } from \"../constants/autocomplete.constants\";\r\n\r\nexport class ScrollService {\r\n    constructor(private element: ElementRef) {\r\n    }\r\n\r\n    handleKeyboarOptionNavigation(activeIndex: number): void {\r\n        const autocompleteElement = <HTMLElement>this.element.nativeElement;\r\n        const listElement = autocompleteElement.querySelector(`.${SEARCH_WRAPPER_CLASS}`);\r\n\r\n        if (listElement) {\r\n            if (activeIndex === DEFAULT_ACTIVE_INDEX) {\r\n                listElement.scrollTo(0, 0);\r\n                return;\r\n            }\r\n\r\n            const optionElements = listElement.querySelectorAll(`.${OPTION_CLASS}`);\r\n            const activeElement = optionElements[activeIndex];\r\n\r\n            const listTop = listElement.getBoundingClientRect().top;\r\n            const listBottom = listTop + listElement.clientHeight;\r\n\r\n            const elementTop = activeElement.getBoundingClientRect().top;\r\n            const elementBottom = elementTop + activeElement.clientHeight;\r\n\r\n            if (listTop > elementTop) {\r\n                activeElement.scrollIntoView(true);\r\n            }\r\n\r\n            if (listBottom < elementBottom) {\r\n                activeElement.scrollIntoView(false);\r\n            }\r\n        }\r\n    }\r\n}","import {\r\n    Directive,\r\n    HostListener,\r\n    ElementRef,\r\n    Input\r\n} from \"@angular/core\";\r\n\r\nimport { KeyCode } from \"../enums/key-kode\";\r\nimport { ItemListService } from \"../services/item-list.service\";\r\nimport { AutocompleteService } from \"../services/autocomplete.service\";\r\nimport { ScrollService } from \"../services/scroll-service\";\r\n\r\n@Directive({\r\n    selector: '[keyboard-navigation]'\r\n})\r\nexport class KeyboardNavigationDirective {\r\n    private readonly scrollService: ScrollService;\r\n\r\n    @Input() stopEnterPropagation: boolean = false;\r\n\r\n    constructor(private autocompleteService: AutocompleteService,\r\n        private itemListService: ItemListService,\r\n        private element: ElementRef) {\r\n        this.scrollService = new ScrollService(element);\r\n    }\r\n\r\n    @HostListener('keydown', ['$event']) onKeydown(event: KeyboardEvent) {\r\n        let key = event.which || event.keyCode;\r\n\r\n        switch (key) {\r\n            case KeyCode.DownArrow:\r\n                this.handleDownKey(event);\r\n                break;\r\n            case KeyCode.UpArrow:\r\n                this.handleUpKey(event);\r\n                break;\r\n            case KeyCode.Enter:\r\n                this.handleEnter(event);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private handleDownKey(event: KeyboardEvent) {\r\n        this.itemListService.activeIndex++;\r\n        this.scrollService.handleKeyboarOptionNavigation(this.itemListService.activeIndex);\r\n    }\r\n\r\n    private handleUpKey(event: KeyboardEvent) {\r\n        this.itemListService.activeIndex--;\r\n        this.scrollService.handleKeyboarOptionNavigation(this.itemListService.activeIndex);\r\n    }\r\n\r\n    private handleEnter(event: KeyboardEvent) {\r\n        if (this.itemListService.activeIndex >= 0) {\r\n            this.autocompleteService.selectItemSubject.next(this.itemListService.activeIndex);\r\n            event.preventDefault();\r\n\r\n            if (this.stopEnterPropagation) {\r\n                event.stopPropagation();\r\n            }\r\n        }\r\n    }\r\n}","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { RemoteAutocompleteComponent } from \"./components/autocomplete.component\";\r\nimport { OptionTemplateDirective } from \"./directives/option-template.directive\";\r\nimport { OptionDirective } from \"./directives/option-directive\";\r\nimport { ItemListService } from \"./services/item-list.service\";\r\nimport { KeyboardNavigationDirective } from \"./directives/keyboard-navigation.directive\";\r\nimport { AutocompleteService } from \"./services/autocomplete.service\";\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule\r\n    ],\r\n    declarations: [\r\n        RemoteAutocompleteComponent,\r\n        OptionTemplateDirective,\r\n        OptionDirective,\r\n        KeyboardNavigationDirective\r\n    ],\r\n    exports: [\r\n        RemoteAutocompleteComponent,\r\n        OptionTemplateDirective\r\n    ],\r\n})\r\nexport class RemoteAutocompleteModule {\r\n}"],"names":["Directive","TemplateRef","Subject","Injectable","EventEmitter","Component","NG_VALUE_ACCESSOR","forwardRef","Input","Output","ContentChild","ViewChild","ElementRef","HostListener","NgModule","CommonModule","FormsModule"],"mappings":"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"}
